{
    "controller":{
        "title":"translation"
    },
    "components":[
    	{
    		"id":"searchField",
    		"type":"TextField",
    		"style":{
    			"position":"`{{6,6},{${UI.screenW-80},36}}`",
	            "textColor":"rgb(80,80,80)",
	            "borderStyle":"none",
	            "backgroundColor":"rgb(240,240,240)",
	            "cornerRadius":4,
	            "placeholder":"请输入你要翻译的单词"
    		}
    	},
    	{
    		"id":"searchButton",
    		"type":"Button",
    		"style":{
    			"position":"`{{${UI.screenW-68},4},{68,40}}`",
	            "titleColor":"rgb(40,40,40)",
	            "title":"search"
    		},
    		"click":"${()=>{$dispatch('transAction');}}"
    	},
    	{
    		"id":"resultList",
    		"type":"ListView",
    		"style":{
    			"position":"`{{0,60},{${UI.screenW},${UI.screenH-60}}}`",
        		"itemSize":"`{${UI.screenW},54}`",
        		"itemVMarign":0,
        		"scrollDirection":"vertical"
    		},
    		"itemStyle":{
        		"separatorDirection":"bottom",
        		"separatorColor":"rgb(240,240,240)"
        	},
        	"item":[
        		{
        			"id":"fixLabel",
        			"type":"Label",
        			"style":{
        				"position":"`{{13,8},{${UI.screenW-13},20}}`",
        				"fontSize":12,
        				"textColor":"rgb(200,200,200)"
        			}
        		},
        		{
        			"id":"descLabel",
        			"type":"Label",
        			"style":{
        				"position":"`{{13,30},{${UI.screenW-13},20}}`",
        				"fontSize":14,
        				"textColor":"rgb(80,80,80)"
        			}
        		}
        	],
        	"dataArray":[
        		{
        			"subStyles":[
	        			{
	        				"viewId":"fixLabel",
	                   		"style":{
	                   			"text":"译文"
	                   		}
                		},
                		{
	        				"viewId":"descLabel",
	                   		"style":{
	                   			"text":"Who am I?"
	                   		}
                		}
           			]
       			},
       			{
        			"subStyles":[
	        			{
	        				"viewId":"fixLabel",
	                   		"style":{
	                   			"text":"译文"
	                   		}
                		},
                		{
	        				"viewId":"descLabel",
	                   		"style":{
	                   			"text":"Who are you?"
	                   		}
                		}
           			]
       			}
        	]
    	}
    ],
    "props":{
    	"transResults":[]
    },
    "actions":{
    	"transAction":{
            "viewId":"resultList",
            "URLRequest":{
	            "type":"get",
	            "url":"`https://dict.bing.com.cn/api/http/v2/4154AA7A1FC54ad7A84A0236AA4DCAF3/zh-cn/en-us/?q=${$getView('searchField').text}&format=application/json`",
	            "check":"${(json)=>{return true}}",
	            "failure":"${(desc)=>{UI.alert('信息获取失败',desc)}}",
	            "extractData":"${(json)=>{return json.LEX.C_DEF[1].SEN}}",
	            "willRender":"",
                "willSend":"${()=>{UI.showIndicator('gray');}}",
                "itemToStyleTemplate":{
                    "subStyles":[
                		{
                			"viewId":"descLabel",
                			"style":{
                				"text":"`${item.D}`"
                            }
                        },
                        {
                			"viewId":"fixLabel",
                			"style":{
                				"text":"译文"
                            }
                        }
                    ]
                },
                "render":"${(renderData)=>{$getView('resultList').setDataArray([]).addDatas(renderData).reloadData()}}",
                "didRender":"${()=>{UI.hideIndicatorDelay(0.618)}}"
            }
        }
    }
}